# üç™ Como Configurar Cookies do YouTube no Render

## ‚ö†Ô∏è Problema

YouTube est√° bloqueando o IP do Render com erro:
```
Sign in to confirm you're not a bot
```

## ‚úÖ Solu√ß√£o: Exportar Cookies e Adicionar no Render

### Passo 1: Exportar Cookies do YouTube

#### M√©todo Recomendado (Navega√ß√£o An√¥nima):

1. **Abrir janela an√¥nima** no Chrome/Firefox
2. **Fazer login no YouTube** na janela an√¥nima
3. **Na mesma aba**, navegar para: `https://www.youtube.com/robots.txt`
4. **Instalar extens√£o** para exportar cookies:
   - Chrome: [Get cookies.txt LOCALLY](https://chrome.google.com/webstore/detail/get-cookiestxt-locally/cclelndahbckbenkjhflpdbgdldlbecc)
   - Firefox: [cookies.txt](https://addons.mozilla.org/firefox/addon/cookies-txt/)
5. **Exportar cookies** do dom√≠nio `youtube.com`
6. **Fechar janela an√¥nima** (importante!)

#### ‚ö†Ô∏è Por que usar janela an√¥nima?

O YouTube rotaciona cookies nas abas abertas normais. Cookies da janela an√¥nima **n√£o s√£o rotacionados** depois de fechada.

### Passo 2: Copiar Conte√∫do do Arquivo

Abra o arquivo `cookies.txt` exportado. Deve come√ßar com:

```
# Netscape HTTP Cookie File
# This file was generated by cookies.txt
# Edit at your own risk.

.youtube.com	TRUE	/	TRUE	1234567890	CONSENT	YES+...
.youtube.com	TRUE	/	FALSE	1234567890	VISITOR_INFO1_LIVE	...
...
```

### Passo 3: Adicionar no Render

1. **Acessar Dashboard do Render**: https://dashboard.render.com/
2. **Selecionar seu servi√ßo** (MediaVid backend)
3. **Environment** ‚Üí **Add Environment Variable**
4. **Nome**: `YOUTUBE_COOKIES`
5. **Valor**: Colar TODO o conte√∫do do arquivo cookies.txt
6. **Save Changes**
7. **Manual Deploy** ‚Üí Deploy latest commit

### Passo 4: Verificar

Ap√≥s o deploy, verifique os logs:

```
üç™ Usando cookies do YouTube de vari√°vel de ambiente...
‚úÖ Cookies salvos em: /tmp/...
```

---

## üîí Seguran√ßa

### ‚ö†Ô∏è AVISOS IMPORTANTES:

1. **Risco de Ban**: Usar sua conta pode resultar em ban tempor√°rio/permanente
2. **Use conta descart√°vel**: Considere criar conta s√≥ para isso
3. **N√£o compartilhe cookies**: Cookies d√£o acesso √† sua conta
4. **Cookies expiram**: Pode precisar renovar periodicamente

### üõ°Ô∏è Boas Pr√°ticas:

- ‚úÖ Usar conta descart√°vel do Gmail
- ‚úÖ Renovar cookies a cada 30 dias
- ‚úÖ N√£o fazer muitas requisi√ß√µes (rate limiting j√° implementado)
- ‚úÖ Monitorar logs do Render para erros

---

## üîÑ Renova√ß√£o de Cookies

Cookies do YouTube expiram. Se come√ßar a dar erro novamente:

1. Repetir processo de exporta√ß√£o (Passo 1)
2. Atualizar vari√°vel `YOUTUBE_COOKIES` no Render
3. Fazer deploy novamente

---

## üìä Alternativas

Se n√£o quiser usar cookies:

### Op√ß√£o 1: Aceitar Limita√ß√£o
- V√≠deos p√∫blicos podem falhar ocasionalmente
- Mensagem amig√°vel para usu√°rio

### Op√ß√£o 2: Proxy/VPN (Pago)
- ScraperAPI: ~$29/m√™s
- Bright Data: ~$49/m√™s
- Rota√ß√£o autom√°tica de IPs

### Op√ß√£o 3: API Paga do YouTube
- YouTube Data API v3
- Limitada (10.000 unidades/dia gr√°tis)
- N√£o baixa v√≠deos diretamente

---

## ‚úÖ Status Atual

Com cookies configurados:
- ‚úÖ YouTube funcionar√° em produ√ß√£o
- ‚úÖ Rate limiting de 3s j√° implementado
- ‚úÖ Retry autom√°tico em caso de erro
- ‚úÖ Cookies do navegador local em desenvolvimento

---

## üÜò Problemas?

### "HTTP Error 403"
- Cookies expiraram ou inv√°lidos
- Renovar cookies (Passo 1-3)

### "Sign in to confirm you're not a bot"
- Cookies n√£o configurados ou inv√°lidos
- Verificar vari√°vel `YOUTUBE_COOKIES` no Render

### "HTTP Error 429"
- Rate limiting funcionando
- Aguardar 30 segundos
- Reduzir frequ√™ncia de requisi√ß√µes
